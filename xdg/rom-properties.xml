<?xml version="1.0" encoding="UTF-8"?>
<mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
  <!-- *** Audio *** -->

  <!-- ADX -->
  <mime-type type="audio/x-adx">
    <comment>CRI ADX audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.adx"/>
  </mime-type>

  <!-- BCSTM -->
  <mime-type type="audio/x-bcstm">
    <comment>Nintendo 3DS BCSTM audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.bcstm"/>
    <magic priority="50">
      <match value="CSTM" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="audio/x-bfstm">
    <comment>Nintendo Wii U BFSTM audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.bfstm"/>
    <magic priority="50">
      <match value="FSTM" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="audio/x-bcwav">
    <comment>Nintendo Wii U BCWAV audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.bcwav"/>
    <magic priority="50">
      <match value="CWAV" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- BRSTM -->
  <mime-type type="audio/x-brstm">
    <comment>Nintendo Wii BRSTM audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.brstm"/>
    <magic priority="50">
      <match value="RSTM" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- GBS -->
  <mime-type type="audio/x-gbs">
    <comment>Game Boy Sound System audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.gbs"/>
    <magic priority="50">
      <match value="GBS\x01" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- NSF -->
  <mime-type type="audio/x-nsf">
    <comment>Nintendo Sound Format audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.nsf"/>
    <magic priority="50">
      <match value="NESM\x1A\x01" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- SAP -->
  <mime-type type="audio/x-sap">
    <comment>Atari 8-bit audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.sap"/>
    <magic priority="50">
      <match value="SAP\r\n" type="string" offset="0"/>
      <match value="SAP\n" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- SNDH -->
  <mime-type type="audio/x-sndh">
    <comment>Atari ST audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.sndh"/>
    <magic priority="50">
      <match value="SNDH" type="string" offset="12"/>
      <!-- NOTE: This technically matches any Pack-ICE compressed file. -->
      <match value="ICE!" type="string" offset="0"/>
      <match value="Ice!" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- SPC -->
  <mime-type type="audio/x-spc">
    <comment>Super NES audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.spc"/>
    <magic priority="50">
      <match value="SNES-SPC700 Sound File Data v0.30" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- VGM -->
  <mime-type type="audio/x-vgm">
    <comment>Video Game Music audio</comment>
    <generic-icon name="audio-x-generic"/>
    <glob pattern="*.vgm"/>
    <glob pattern="*.vgz"/>
    <!--<glob pattern="*.vgm.gz"/>-->
    <magic priority="50">
      <match value="Vgm " type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- *** Console *** -->

  <!-- Dreamcast -->
  <mime-type type="application/x-dreamcast-rom">
    <comment>Dreamcast disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <alias type="application/x-dreamcast-iso-image"/>
    <glob pattern="*.iso"/>
    <magic priority="50">
      <match value="SEGA SEGAKATANA" type="string" offset="0"/>
      <match value="SEGA SEGAKATANA" type="string" offset="16"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-dreamcast-cuesheet">
    <comment>Dreamcast cuesheet</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.gdi"/>
  </mime-type>

  <!-- DreamcastSave -->
  <mime-type type="application/x-dreamcast-vms">
    <comment>Dreamcast VMS save file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.vms"/>
  </mime-type>
  <mime-type type="application/x-dreamcast-vms-info">
    <comment>Dreamcast VMS information file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.vmi"/>
  </mime-type>
  <mime-type type="application/x-dreamcast-dci">
    <comment>Dreamcast Nexus save file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.dci"/>
  </mime-type>

  <!-- GameCube -->
  <mime-type type="application/x-gamecube-rom">
    <comment>GameCube disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <alias type="application/x-gamecube-iso-image"/>
    <glob pattern="*.iso"/>
    <glob pattern="*.gcm"/>
    <glob pattern="*.ciso"/>
    <magic priority="50">
      <match value="0xc2339f3d" type="big32" offset="28"/>
      <match value="CISO" type="string" offset="0">
        <match value="0xc2339f3d" type="big32" offset="32796"/>
      </match>
      <match value="WBFS" type="string" offset="0">
        <match value="0xc2339f3d" type="big32" offset="540"/>
      </match>
    </magic>
  </mime-type>
  <!-- FIXME: Conflicts with game.com (it's not checking magic) -->
  <!--
  <mime-type type="application/x-gamecube-tgc">
    <comment>GameCube embedded disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.tgc"/>
    <magic priority="50">
      <match value="0xAE0F38A2" type="big32" offset="0"/>
    </magic>
  </mime-type>
  -->
  <mime-type type="application/x-wii-rom">
    <comment>Wii disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <alias type="application/x-wii-iso-image"/>
    <alias type="application/x-wbfs"/>
    <glob pattern="*.iso"/>
    <glob pattern="*.gcm"/>
    <glob pattern="*.ciso"/>
    <glob pattern="*.rvm"/>
    <magic priority="50">
      <match value="0x5d1c9ea3" type="big32" offset="24"/>
      <match value="CISO" type="string" offset="0">
        <match value="0x5d1c9ea3" type="big32" offset="32792"/>
      </match>
      <match value="WBFS" type="string" offset="0">
        <match value="0x5d1c9ea3" type="big32" offset="536"/>
      </match>
      <match value="WII\001DISC" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-gcz-image">
    <comment>Compressed GameCube/Wii disc image</comment>
    <sub-class-of type="application/x-gamecube-rom"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.gcz"/>
    <magic priority="50">
      <match value="0xb10bc001" type="big32" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-wia">
    <comment>Compressed GameCube/Wii disc image</comment>
    <sub-class-of type="application/x-wii-rom"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.wia"/>
    <magic priority="50">
      <match value="WIA\x01" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-rvz-image">
    <comment>Compressed GameCube/Wii disc image</comment>
    <sub-class-of type="application/x-wii-rom"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.rvz"/>
    <magic priority="50">
      <match value="RVZ\x01" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- GameCubeBNR -->
  <mime-type type="application/x-gamecube-bnr">
    <comment>GameCube banner image</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.bnr"/>
    <magic priority="50">
      <match value="BNR1" type="string" offset="0"/>
      <match value="BNR2" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- GameCubeSave -->
  <mime-type type="application/x-gamecube-save">
    <comment>GameCube save file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.gci"/>
    <glob pattern="*.gcs"/>
    <glob pattern="*.sav"/>
    <magic priority="90">
      <match value="DATELGC_SAVE" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- MegaDrive -->
  <mime-type type="application/x-sega-cd-rom">
    <!-- Translate this to Mega-CD if the console was known as such in your locale
         Should be Mega-CD in all but en_US, Mexico, Canada and Brazil: https://en.wikipedia.org/wiki/Sega_CD -->
    <comment>Sega CD 32X disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <!-- Also matches the application/x-genesis-rom magic values, hence the higher priority -->
    <!-- FIXME: Verify the "SEGA 32X" header and priority values. -->
    <magic priority="70">
      <match type="string" value="SEGADISCSYSTEM" offset="0">
        <match type="string" value="SEGA 32X" offset="256"/>
      </match>
      <match type="string" value="SEGADISCSYSTEM" offset="16">
        <match type="string" value="SEGA 32X" offset="272"/>
      </match>
    </magic>
    <glob pattern="*.iso"/>
  </mime-type>

  <!-- NES -->
  <mime-type type="application/x-nes-rom">
    <!-- NOTE: This is already upstream, but is missing magic numbers. -->
    <comment>NES ROM</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.nes"/>
    <glob pattern="*.nez"/>
    <glob pattern="*.unf"/>
    <glob pattern="*.unif"/>
    <magic priority="50">
      <match value="NES\x1A" type="string" offset="0"/>
      <match value="NES\x00" type="string" offset="0"/>
      <match value="UNIF" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-fds-disk">
    <!-- NOTE: This is already upstream, but is missing support for fwNES headers. -->
    <comment>Nintendo FDS disk image</comment>
    <acronym>FDS</acronym>
    <expanded-acronym>Famicom Disk System</expanded-acronym>
    <glob pattern="*.fds"/>
    <glob pattern="*.qd"/>
    <magic priority="50">
      <match type="string" value="*NINTENDO-HVC*" offset="1"/>
      <match type="string" value="FDS\x1A" offset="0">
        <match type="string" value="*NINTENDO-HVC*" offset="17"/>
      </match>
    </magic>
  </mime-type>

  <!-- PlayStationEXE -->
  <mime-type type="application/x-ps1-executable">
    <comment>PlayStation executable</comment>
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <magic priority="50">
      <match value="PS-X EXE" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- PlayStationSave -->
  <mime-type type="application/x-ps1-save">
    <comment>PlayStation save file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.psv"/>
    <glob pattern="*.mcb"/>
    <glob pattern="*.mcx"/>
    <!--<glob pattern="*.pda"/>--> <!-- FIXME: Too generic? -->
    <glob pattern="*.psx"/>
    <glob pattern="*.mcs"/>
    <!--<glob pattern="*.ps1"/>--> <!-- FIXME: Conflicts with PowerShell. -->
    <magic priority="50">
      <match value="\0VSP\0\0\0\0" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- SufamiTurbo (handled as SNES, sort of) -->
  <mime-type type="application/x-sufami-turbo-rom">
    <comment>Sufami Turbo ROM</comment>
    <sub-class-of type="application/vnd.nintendo.snes.rom"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.st"/>
    <magic priority="50">
      <match value="BANDAI SFC-ADX" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- WiiU -->
  <mime-type type="application/x-wii-u-rom">
    <comment>Wii U disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <alias type="application/x-wii-u-iso-image"/>
    <glob pattern="*.iso"/>
    <glob pattern="*.wud"/>
    <glob pattern="*.wux"/>
    <magic priority="50">
      <match value="WUP-" type="string" offset="0"/>
      <match value="WUX0\x2E\xD0\x99\x10" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- WiiWAD -->
  <!-- Wii WADs have 64-byte alignment; BroadOn WADs do not. -->
  <!-- DSi debug TADs *usually* don't have 64-byte alignment. -->
  <mime-type type="application/x-wii-wad">
    <comment>Wii WAD package</comment>
    <generic-icon name="application-x-executable"/>
    <!-- Doom WAD has a priority of 80 for the file extension. -->
    <magic priority="85">
      <match type="string" value="Is\0\0" offset="4">
        <match type="big32" value="0" offset="32"/>
      </match>
      <match type="string" value="ib\0\0" offset="4"/>
      <match type="string" value="Bk\0\0" offset="4"/>
    </magic>
    <glob pattern="*.wad"/>
  </mime-type>
  <mime-type type="application/x-nintendo-dsi-tad">
    <comment>Nintendo DSi TAD package</comment>
    <generic-icon name="application-x-executable"/>
    <magic priority="90">
      <match type="string" value="Is\0\0" offset="4">
        <match type="string" value="Root" offset="640"/>
      </match>
    </magic>
    <glob pattern="*.tad"/>
  </mime-type>

  <!-- WiiWIBN -->
  <mime-type type="application/x-wii-wibn">
    <comment>Wii save game banner file</comment>
    <!-- FIXME: Better icon. -->
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <magic priority="50">
      <match value="WIBN" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Xbox_XBE -->
  <mime-type type="application/x-xbox-executable">
    <comment>Xbox executable</comment>
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.xbe"/>
    <magic priority="50">
      <match value="XBEH" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Xbox360_STFS -->
  <mime-type type="application/x-xbox360-stfs">
    <comment>Xbox 360 package</comment>
    <sub-class-of type="application/x-archive"/>
    <generic-icon name="package-x-generic"/>
    <magic priority="50">
      <match value="CON " type="string" offset="0"/>
      <match value="LIVE" type="string" offset="0"/>
      <match value="PIRS" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Xbox360_XDBF -->
  <mime-type type="application/x-xbox360-xdbf">
    <comment>Xbox 360 resource database file</comment>
    <sub-class-of type="application/octet-stream"/>
    <generic-icon name="application-octet-stream"/>
    <glob pattern="*.xdbf"/>
    <magic priority="50">
      <match value="XDBF" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Xbox360_XEX -->
  <mime-type type="application/x-xbox360-executable">
    <comment>Xbox 360 executable</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.xex"/>
    <magic priority="50">
      <match value="XEX1" type="string" offset="0"/>
      <match value="XEX2" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-xbox360-patch">
    <comment>Xbox 360 patch</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.xexp"/>
    <magic priority="50">
      <match value="XEX2" type="string" offset="0">
        <match value="0x10" mask="0x70" type="byte" offset="7"/>
        <match value="0x20" mask="0x70" type="byte" offset="7"/>
        <match value="0x40" mask="0x70" type="byte" offset="7"/>
      </match>
    </magic>
  </mime-type>

  <!-- *** Handheld *** -->

  <!-- GameCom -->
  <mime-type type="application/x-game-com-rom">
    <comment>game.com ROM image</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.tgc"/>
    <magic priority="75">
      <match value="TigerDMGC" type="string" offset="5"/>
      <match value="TigerDMGC" type="string" offset="262149"/>
    </magic>
  </mime-type>

  <!-- GameBoyAdvance -->
  <mime-type type="application/x-gba-rom">
    <comment>Game Boy Advance ROM</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.gba"/>
    <glob pattern="*.agb"/>
    <!-- <glob pattern="*.mb"/> --> <!-- TODO -->
    <magic priority="50">
      <match value="\x24\xFF\xAE\x51\x69\x9A\xA2\x21\x3D\x84\x82\x0A\x84\xE4\x09\xAD" type="string" offset="4"/>
    </magic>
  </mime-type>

  <!-- Nintendo3DS -->
  <mime-type type="application/x-nintendo-3ds-3dsx">
    <comment>Nintendo 3DS homebrew application</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.3dsx"/>
    <magic priority="50">
      <match value="3DSX" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-nintendo-3ds-rom">
    <comment>Nintendo 3DS ROM image</comment>
    <sub-class-of type="application/x-raw-disk-image"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.3ds"/>
    <glob pattern="*.3dz"/>
    <glob pattern="*.cci"/>
    <magic priority="50">
      <match value="NCSD" type="string" offset="256">
        <match value="\x00\x00\x00\x00\x00\x00\x00\x00" type="string" offset="272"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-nintendo-3ds-emmc">
    <comment>Nintendo 3DS eMMC dump</comment>
    <sub-class-of type="application/x-raw-disk-image"/>
    <generic-icon name="application-x-raw-disk-image"/>
    <magic priority="50">
      <match value="NCSD" type="string" offset="256">
        <match value="\x01\x02\x02\x02\x02\x00\x00\x00" type="string" offset="272"/>
        <match value="\x01\x02\x02\x02\x03\x00\x00\x00" type="string" offset="272"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-nintendo-3ds-cia">
    <comment>Nintendo 3DS installable archive</comment>
    <sub-class-of type="application/x-archive"/>
    <generic-icon name="package-x-generic"/>
    <glob pattern="*.cia"/>
  </mime-type>
  <mime-type type="application/x-nintendo-3ds-ncch">
    <comment>Nintendo 3DS NCCH container</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.ncch"/>
    <magic priority="50">
      <match value="NCCH" type="string" offset="256"/>
    </magic>
  </mime-type>

  <!-- Nintendo3DS_SMDH -->
  <mime-type type="application/x-nintendo-3ds-smdh">
    <comment>Nintendo 3DS icon file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.smdh"/>
    <magic priority="50">
      <match value="SMDH" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Nintendo3DSFirm -->
  <mime-type type="application/x-nintendo-3ds-firm">
    <comment>Nintendo 3DS firmware binary</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.firm"/>
    <magic priority="50">
      <match value="FIRM" type="string" offset="4"/>
    </magic>
  </mime-type>

  <!-- NintendoDS -->
  <mime-type type="application/x-nintendo-ds-rom">
    <comment>Nintendo DS ROM</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.nds"/>
    <glob pattern="*.dsi"/>
    <glob pattern="*.ids"/>
    <glob pattern="*.srl"/>
    <magic priority="70">
      <match value="\x24\xFF\xAE\x51\x69\x9A\xA2\x21\x3D\x84\x82\x0A\x84\xE4\x09\xAD" type="string" offset="192"/>
      <match value="\xC8\x60\x4F\xE2\x01\x70\x8F\xE2\x17\xFF\x2F\xE1\x12\x4F\x11\x48" type="string" offset="192"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-nintendo-dsi-rom">
    <comment>Nintendo DSi ROM</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.nds"/>
    <glob pattern="*.dsi"/>
    <glob pattern="*.ids"/>
    <glob pattern="*.srl"/>
    <magic priority="80">
      <match value="0x03" mask="0x03" type="byte" offset="18">
        <match value="\x24\xFF\xAE\x51\x69\x9A\xA2\x21\x3D\x84\x82\x0A\x84\xE4\x09\xAD" type="string" offset="192"/>
        <match value="\xC8\x60\x4F\xE2\x01\x70\x8F\xE2\x17\xFF\x2F\xE1\x12\x4F\x11\x48" type="string" offset="192"/>
      </match>
    </magic>
  </mime-type>

  <!-- PSP -->
  <mime-type type="application/x-psp-ciso-image">
    <comment>PlayStation Portable CISO disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.cso"/>
    <magic priority="50">
      <match value="CISO" type="string" offset="0">
        <!--<match value="0" type="little32" offset="8"/>-->
        <match value="0x18" type="little32" offset="8"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-psp-dax-image">
    <comment>PlayStation Portable DAX disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.dax"/>
    <magic priority="50">
      <match value="0x41445800" type="big32" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-psp-jiso-image">
    <comment>PlayStation Portable JISO disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.jso"/>
    <magic priority="50">
      <match value="JISO" type="string" offset="0">
        <!-- TODO: Verify this. -->
        <match value="0x30" type="little32" offset="32"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-psp-ziso-image">
    <comment>PlayStation Portable ZISO disc image</comment>
    <sub-class-of type="application/x-cd-image"/>
    <generic-icon name="application-x-cd-image"/>
    <glob pattern="*.zso"/>
    <magic priority="50">
      <match value="ZISO" type="string" offset="0">
        <match value="0x18" type="little32" offset="8"/>
      </match>
    </magic>
  </mime-type>

  <!-- *** Other *** -->

  <!-- Amiibo -->
  <mime-type type="application/x-nintendo-amiibo">
    <comment>Nintendo amiibo NFC dump</comment>
    <generic-icon name="application-x-executable"/>
    <glob pattern="*.nfc"/>
    <glob pattern="*.nfp"/>
  </mime-type>

  <!-- Mach-O -->
  <!-- FIXME: Using the standard MIME types breaks KDE. -->
  <mime-type type="application/x-mach-object">
    <comment>Mach-O object file</comment>
    <sub-class-of type="application/x-object"/>
    <generic-icon name="x-office-document"/>
    <magic priority="50">
      <match value="0xFEEDFACE" type="big32" offset="0">
        <match value="1" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="big32" offset="0">
        <match value="1" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACE" type="little32" offset="0">
        <match value="1" type="little32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="little32" offset="0">
        <match value="1" type="little32" offset="12"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-mach-executable">
    <comment>Mach-O executable</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <magic priority="50">
      <match value="0xFEEDFACE" type="big32" offset="0">
        <match value="2" type="big32" offset="12"/>
        <match value="5" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="big32" offset="0">
        <match value="2" type="big32" offset="12"/>
        <match value="5" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACE" type="little32" offset="0">
        <match value="2" type="little32" offset="12"/>
        <match value="5" type="little32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="little32" offset="0">
        <match value="2" type="little32" offset="12"/>
        <match value="5" type="little32" offset="12"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-mach-sharedlib">
    <comment>Mach-O shared library</comment>
    <sub-class-of type="application/x-sharedlib"/>
    <generic-icon name="application-x-sharedlib"/>
    <glob pattern="*.dylib"/>
    <magic priority="50">
      <match value="0xFEEDFACE" type="big32" offset="0">
        <match value="3" type="big32" offset="12"/>
        <match value="6" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="big32" offset="0">
        <match value="3" type="big32" offset="12"/>
        <match value="6" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACE" type="little32" offset="0">
        <match value="3" type="little32" offset="12"/>
        <match value="6" type="little32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="little32" offset="0">
        <match value="3" type="little32" offset="12"/>
        <match value="6" type="little32" offset="12"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-mach-core">
    <comment>Mach-O core dump</comment>
    <sub-class-of type="application/x-core"/>
    <generic-icon name="application-x-core"/>
    <magic priority="50">
      <match value="0xFEEDFACE" type="big32" offset="0">
        <match value="4" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="big32" offset="0">
        <match value="4" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACE" type="little32" offset="0">
        <match value="4" type="little32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="little32" offset="0">
        <match value="4" type="little32" offset="12"/>
      </match>
    </magic>
  </mime-type>
  <!-- TODO: Is there a more common MIME type for bundles? -->
  <mime-type type="application/x-mach-bundle">
    <comment>Mach-O bundle</comment>
    <sub-class-of type="application/x-archive"/>
    <generic-icon name="package-x-generic"/>
    <glob pattern="*.bundle"/>
    <magic priority="50">
      <match value="0xFEEDFACE" type="big32" offset="0">
        <match value="8" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="big32" offset="0">
        <match value="8" type="big32" offset="12"/>
      </match>
      <match value="0xFEEDFACE" type="little32" offset="0">
        <match value="8" type="little32" offset="12"/>
      </match>
      <match value="0xFEEDFACF" type="little32" offset="0">
        <match value="8" type="little32" offset="12"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="application/x-mach-fat-binary">
    <comment>Mach-O fat binary</comment>
    <sub-class-of type="application/x-executable"/>
    <generic-icon name="application-x-executable"/>
    <!-- Conflicts with Java's compiled class files. -->
    <!-- Assuming a maximum of 16 architectures per universal binary. -->
    <magic priority="75">
      <match value="0xCAFEBABE" type="big32" offset="0">
        <match value="1" type="big32" offset="4"/>
        <match value="2" type="big32" offset="4"/>
        <match value="3" type="big32" offset="4"/>
        <match value="4" type="big32" offset="4"/>
        <match value="5" type="big32" offset="4"/>
        <match value="6" type="big32" offset="4"/>
        <match value="7" type="big32" offset="4"/>
        <match value="8" type="big32" offset="4"/>
        <match value="9" type="big32" offset="4"/>
        <match value="10" type="big32" offset="4"/>
        <match value="11" type="big32" offset="4"/>
        <match value="12" type="big32" offset="4"/>
        <match value="13" type="big32" offset="4"/>
        <match value="14" type="big32" offset="4"/>
        <match value="15" type="big32" offset="4"/>
        <match value="16" type="big32" offset="4"/>
      </match>
    </magic>
  </mime-type>

  <!-- NintendoBadge -->
  <!-- FIXME: This is too generic. -->
  <!--
  <mime-type type="application/x-nintendo-badge">
    <comment>Nintendo Badge Arcade badge</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.prb"/>
    <magic priority="50">
      <match value="PRBS" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="application/x-nintendo-badge-set">
    <comment>Nintendo Badge Arcade badge set</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.cab"/>
    <magic priority="50">
      <match value="CABS" type="string" offset="0"/>
    </magic>
  </mime-type>
  -->

  <!-- *** Texture *** -->

  <!-- KhronosKTX2 -->
  <!-- NOTE: Upstream has KTX1. -->
  <mime-type type="image/ktx2">
    <comment>Khronos KTX2 texture image</comment>
    <sub-class-of type="image/x-generic"/>
    <glob pattern="*.ktx2"/>
    <generic-icon name="image-x-generic"/>
    <magic priority="80">
      <match type="big32" value="0xAB4B5458" offset="0">
        <match type="big32" value="0x203230BB" offset="4">
          <match type="big32" value="0x0D0A1A0A" offset="8"/>
        </match>
      </match>
    </magic>
  </mime-type>

  <!-- SegaPVR -->
  <!-- FIXME: libmirage-gbi.xml is overriding this. -->
  <mime-type type="image/x-sega-pvr">
    <comment>Sega Dreamcast PVR texture file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.pvr"/>
    <magic priority="75">
      <match value="PVRT" type="string" offset="0"/>
      <match value="GBIX" type="string" offset="0">
        <match value="PVRT" type="string" offset="12"/>
        <match value="PVRT" type="string" offset="16"/>
      </match>
      <match value="GCIX" type="string" offset="0">
        <match value="PVRT" type="string" offset="12"/>
        <match value="PVRT" type="string" offset="16"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="image/x-sega-gvr">
    <comment>Sega GVR for GameCube texture file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.gvr"/>
    <magic priority="75">
      <match value="GVRT" type="string" offset="0"/>
      <match value="GBIX" type="string" offset="0">
        <match value="GVRT" type="string" offset="12"/>
        <match value="GVRT" type="string" offset="16"/>
      </match>
      <match value="GCIX" type="string" offset="0">
        <match value="GVRT" type="string" offset="12"/>
        <match value="GVRT" type="string" offset="16"/>
      </match>
    </magic>
  </mime-type>
  <mime-type type="image/x-sega-pvrx">
    <comment>Sega PVRX for Xbox texture file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.pvr"/>
    <magic priority="75">
      <match value="PVRX" type="string" offset="0"/>
      <match value="GBIX" type="string" offset="0">
        <match value="PVRX" type="string" offset="12"/>
        <match value="PVRX" type="string" offset="16"/>
      </match>
      <match value="GCIX" type="string" offset="0">
        <match value="PVRX" type="string" offset="12"/>
        <match value="PVRX" type="string" offset="16"/>
      </match>
    </magic>
  </mime-type>

  <!-- ValveVTF -->
  <mime-type type="image/vnd.valve.source.texture">
    <comment>Valve texture file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <alias type="image/x-vtf"/>
    <glob pattern="*.vtf"/>
    <magic priority="50">
      <match value="VTF\0" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- ValveVTF3 -->
  <mime-type type="image/x-vtf3">
    <comment>Valve texture file (PS3)</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.vtf"/>
    <magic priority="50">
      <match value="VTF3" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- XboxXPR -->
  <mime-type type="image/x-xbox-xpr0">
    <comment>Microsoft Xbox XPR0 texture file</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.xbx"/>
    <glob pattern="*.xpr"/>
    <magic priority="50">
      <match value="XPR0" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="image/x-xbox-xpr1">
    <comment>Microsoft Xbox XPR0 texture archive</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.xpr"/>
    <magic priority="75">
      <match value="XPR1" type="string" offset="0"/>
    </magic>
  </mime-type>
  <mime-type type="image/x-xbox-xpr2">
    <comment>Microsoft Xbox XPR2 texture archive</comment>
    <sub-class-of type="image/x-generic"/>
    <generic-icon name="image-x-generic"/>
    <glob pattern="*.xpr"/>
    <magic priority="75">
      <match value="XPR2" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- Not supported by rom-properties, but useful to have anyway. -->

  <!-- IPS patches -->
  <mime-type type="application/x-ips-patch">
    <comment>IPS patch file</comment>
    <sub-class-of type="application/x-patch"/>
    <generic-icon name="text-x-patch"/>
    <glob pattern="*.ips"/>
    <magic priority="50">
      <match value="PATCH" type="string" offset="0"/>
    </magic>
  </mime-type>

  <!-- BasisLZ texture -->
  <mime-type type="image/basis">
    <comment>BasisLZ texture image</comment>
    <sub-class-of type="image/x-generic"/>
    <glob pattern="*.basis"/>
    <generic-icon name="image-x-generic"/>
    <magic priority="80">
      <match type="little16" value="0x4273" offset="0">
        <match type="little16" value="0x4D" offset="4"/>
      </match>
    </magic>
  </mime-type>
</mime-info>
